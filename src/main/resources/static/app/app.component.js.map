{"version":3,"file":"app.component.js","sourceRoot":"","sources":["../Users/charlie/Employment/Mapp/mapp_challenge/spring-angular2-cli-starter/src/main/frontend/tmp/broccoli_type_script_compiler-input_base_path-OuxFFkyK.tmp/0/src/app/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'dl-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.css']\n})\n\nexport class AppComponent {\n    title: string = \"Crazy Charlie's House of Deals\";\n    products: Product[] = PRODUCTS;\n    customer: Customer = new Customer(\"\");\n    customers: Customer[] = [this.customer];\n\n    switchTo(username: string): void {\n\tif (!username) {\n\t    return;\n\t}\n\tif (!this.customer.username) {\n\t    this.customer.username = username;\n\t    return;\n\t}\n\tfor (var i = 0; i < this.customers.length; ++i) {\n\t    if (this.customers[i].username === username) {\n\t\tthis.customer = this.customers[i];\n\t\treturn;\n\t    }\n\t}\n\tthis.customer = new Customer(username);\n\tthis.customers.push(this.customer);\n    }\n\n    buy(product: Product): void {\n\tif (product.inventory > 0) {\n\t    product.inventory -= 1;\n\t    this.customer.basket.buy(product);\n\t}\n    }\n\n    unbuy(product: Product): void {\n\tif (this.customer.basket.getQuantity(product) > 0) {\n\t    product.inventory += 1;\n\t    this.customer.basket.unbuy(product);\n\t}\n    }\n\n    prettyPrice(price: number): string {\n\treturn price.toLocaleString('de-DE', { style: 'currency', currency: 'EUR'});\n    }\n}\n\nexport class Deal {\n    count: number;\n    price: number;\n    \n    constructor(count: number, price: number) {\n\tthis.count = count;\n\tthis.price = price;\n    }\n}\n\nexport class Product {\n    id: number;\n    name:string;\n    snippet: string;\n    deals: Deal[];\n    imgsrc: string;\n    inventory: number;\n\n    static id_base: number = 0;\n\n    constructor(name: string, snippet: string, price: number, deals: Deal[], imgsrc: string, inventory: number) {\n\tthis.id = Product.id_base++;\n\tthis.name = name;\n\tthis.snippet = snippet;\n\tthis.imgsrc = imgsrc;\n\tthis.inventory = inventory;\n\tdeals.push(new Deal(1, price));\n\tthis.deals = deals;\n\t// Deals must be sorted by count.\n\tthis.deals.sort((left, right) => {\n\t\tif (left.count < right.count) return -1;\n\t\tif (left.count > right.count) return 1;\n\t\treturn 0;\n\t    });\n    }\n}\n\nconst PRODUCTS: Product[] =\n    [\n     new Product(\"Lamy 2000 (fine nib)\", \"Precision German pen-gineering.\", 150.00, [new Deal(2, 275.00)], \"lamy_2000.jpg\", 23),\n     new Product(\"Lil Wayne's Guitar\", \"Has most strings.\", 2600.00, [new Deal(5, 12000.00)], \"lil_wayne_guitar.jpg\", 14),\n     new Product(\"Yacht\", \"Apparently haunted.\", 35000.00, [], \"yacht.jpg\", 4),\n     new Product(\"500 Tongue Depressors\", \"Slightly used.\", 12.00, [new Deal(5, 55.00), new Deal(20, 200)], \"tongue_depressors.jpg\", 350),\n     new Product(\"Decoder Ring\", \"One size fits all.\", 0.02, [new Deal(300, 5.99)], \"decoder_ring.jpg\", 5),\n     new Product(\"Burned Quarter\", \"Found near the road.\", 0.25, [], \"burned_quarter.jpg\", 12),\n     new Product(\"Wool Hat\", \"Found near the quarter.\", 1.00, [new Deal(10, 9.00), new Deal(100, 84.00)], \"wool_hat.jpg\", 45)\n     ];\n\nexport class Purchase {\n    quantity: number;\n    product: Product;\n\n    constructor(product: Product) {\n\tthis.quantity = 0;\n\tthis.product = product;\n    }\n}\n\nexport class Basket {\n    purchases: Purchase[] = [];\n    total: number = 0;\n    showTotal: boolean = false;\n\n    getIndex(product: Product): number {\n\tfor (var i = 0; i < this.purchases.length; ++i) {\n\t    var purchase = this.purchases[i];\n\t    if (purchase.product.id == product.id) {\n\t\treturn i;\n\t    }\n\t}\n\treturn -1;\n    }\n \n    getQuantity(product: Product): number {\n\tvar index = this.getIndex(product);\n\tif (index != -1) {\n\t    return this.purchases[index].quantity;\n\t}\n\treturn 0;\n    }\n\n    buy(product: Product) {\n\tthis.showTotal = false;\n\tvar index = this.getIndex(product);\n\tif (index == -1) {\n\t    this.purchases.push(new Purchase(product));\n\t    index = this.purchases.length - 1;\n\t}\n\tthis.purchases[index].quantity += 1;\n    }\n\n    unbuy(product: Product) {\n\tthis.showTotal = false;\n\tvar index = this.getIndex(product);\n\tif (index == -1) {\n\t    return;\n\t}\n\tthis.purchases[index].quantity -= 1;\n\tif (this.purchases[index].quantity <= 0) {\n\t    this.purchases.splice(index, 1);\n\t}\n    }\n\n    getTotal(): void {\n\tthis.total = 0;\n\tfor (var i = 0; i < this.purchases.length; ++i) {\n\t    var purchase = this.purchases[i];\n\t    var product: Product = purchase.product;\n\t    var purchased: number  = purchase.quantity;\n\t    for (var j = product.deals.length - 1; j >= 0; --j) {\n\t\tvar deal: Deal = product.deals[j];\n\t\tthis.total += Math.trunc(purchased / deal.count) * deal.price;\n\t\tpurchased %= deal.count;\n\t    }\n\t}\n\tthis.showTotal = true;\n    }\n}\n\nexport class Customer {\n    basket: Basket;\n    username: string;\n\n    constructor(username: string) {\n\tthis.username = username;\n\tthis.basket = new Basket();\n    }\n}"]}